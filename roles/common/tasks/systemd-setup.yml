##Copy user.service file to server
#print_head "Copying SystemD service file"
#cp "${code_dir}"/configs/${component}.service /etc/systemd/system/${component}.service &>>${log_file}
#status_check $?
#
#sed -i -e "s/ROBOSHOP_USER_PASSWORD/${roboshop_app_password}" /etc/systemd/system/${component}.service &>>{log_file}
#
#  #Load the service.
#print_head "Reload SystemD"
#systemctl daemon-reload &>>${log_file}
#status_check $?
#
#  #Start the service.
#print_head "Enable ${component} Service"
#systemctl enable ${component} &>>${log_file}
#status_check $?
#
#print_head "Start ${component} Service"
#systemctl restart ${component} &>>${log_file}
#status_check $?

- name: Copy SystemD Config file
  ansible.builtin.copy:
    src: "{{ component }}.service"
    dest: /etc/systemd/system/{{ component }}.service

- name: Start service
  ansible.builtin.systemd:
    name: {{ component }}
    state: restarted
    enabled: yes
    daemon-reload: true
